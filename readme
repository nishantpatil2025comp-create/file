ACTIVITY 8

Research:
File handling is an essential aspect of programming, allowing us to interact with files stored on a computer’s storage system. In the C programming language, file handling is achieved through a set of functions provided by the standard library. This blog post will guide you through the process of reading and writing files in C, covering the necessary steps and functions involved.


https://medium.com/@indradeephalder/day-8-file-handling-reading-and-writing-files-in-c-a306db0f4dab 


ANALYSE:
File handling in C bridges the gap between your program and your device's storage. It allows your program to interact with files—whether you're reading data, writing information, or just organizing things. Without file handling, everything your program does would disappear the moment it stops running.
It is safe to say that file handling is a critical aspect of any programming language as it enables the interaction between the program and the file system. In this article, we will walk you through the essentials of file handling in C programming, beginning with what it is, the need, and how to use it. We will also cover all operations (reading, writing, closing, and opening), best practices in file handling, common pitfalls, and more.

https://unstop.com/blog/file-handling-in-c  


IDEATE :  This program is a basic billing system created using C, where the user can either write new customer details to a file or read the stored information. In the write mode, the program collects the customer’s name, date of purchase, and the list of products along with their prices. It then calculates the total amount of all the products and also records the paid and unpaid amounts. All this information is saved neatly in a text file, just like a bill. In the read mode, the program opens the same file and retrieves the stored data using file-handling functions, allowing the user to view the complete bill whenever needed. Overall, this program demonstrates simple file operations, loops, and input handling to create and manage a small customer billing record.

Build in 
#include <stdio.h>

int main() {
    int choice;
    int date, am, pm, times;
    char name[50];
    char product[50];
    int price;
    int total = 0;
    FILE *ptr;

    printf("Enter the operation:\n1. Write\n2. Read\n");
    scanf("%d", &choice);

    switch (choice) {

    case 1:
        printf("Enter customer name:\n");
        scanf("%s", name);

        printf("Enter date (e.g., 15012007):\n");
        scanf("%d", &date);

        printf("How many products purchased?\n");
        scanf("%d", &times);

        ptr = fopen("customer_database.txt", "w");
        if (!ptr) {
            printf("Error opening file!\n");
            return 1;
        }

        fprintf(ptr, "Name: %s\n", name);
        fprintf(ptr, "Date: %d\n", date);
        fprintf(ptr, "Products:\n");

        for (int i = 0; i < times; i++) {
            printf("Enter product %d name: ", i + 1);
            scanf("%s", product);

            printf("Enter product %d price (₹): ", i + 1);
            scanf("%d", &price);

            total += price;

           
            fprintf(ptr, "- %s : ₹%d\n", product, price);
        }

        fprintf(ptr, "Total Amount: ₹%d\n", total);

        printf("Enter the paid amount (₹):\n");
        scanf("%d", &am);

        printf("Enter the unpaid amount (₹):\n");
        scanf("%d", &pm);

        fprintf(ptr, "Paid Amount: ₹%d\n", am);
        fprintf(ptr, "Unpaid Amount: ₹%d\n", pm);

        fclose(ptr);
        printf("\nData written successfully.\n");
        break;

    case 2:
    ptr = fopen("customer_database.txt", "r");
    if (!ptr) {
        printf("File not found!\n");
        return 1;
    }

    char pname[50];
    int pprice;

    printf("\n--- Customer Data ---\n");

    fscanf(ptr, "Name: %s\n", name);

    fscanf(ptr, "Date: %d\n", &date);

    printf("Name  : %s\n", name);
    printf("Date  : %d\n", date);

    printf("Products:\n");

    fscanf(ptr, "Products:\n");

   
    while (fscanf(ptr, " %s : ₹%d\n", pname, &pprice) == 2) {
        printf("- %s : ₹%d\n", pname, pprice);
    }

    fscanf(ptr, "Total Amount: ₹%d\n", &total);
    fscanf(ptr, "Paid Amount: ₹%d\n", &am);
    fscanf(ptr, "Unpaid Amount: ₹%d\n", &pm);

    printf("Total Amount : ₹%d\n", total);
    printf("Paid Amount  : ₹%d\n", am);
    printf("Unpaid Amount: ₹%d\n", pm);

    fclose(ptr);
    break;
    }
    return 0;
}



Output :

Case 1;



Case 2
Enter the operation:
1. Write
2. Read
2

--- Customer Data ---
Name  : fvigb
Date  : 142514
Products:
- jenfn : ₹233
- gdggv : ₹355
- gvdtvtv : ₹344
- vvvtd : ₹77
- yye : ₹99
Total Amount : ₹1108
Paid Amount  : ₹779
Unpaid Amount: ₹887





IMPLEMENTATION :





